<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Network Simulator</title>
    <link rel="icon" type="image/png" href="./css/favicon.png"/>
    <link rel="stylesheet" href="css/style.css">
    
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <aside id="sidebar">
        <h2>Neural Control</h2>
        
        <div class="btn-group">
            <button id="btn-train" class="btn-primary">‚ñ∂ Entrenar</button>
            <button id="btn-step" class="btn-secondary" title="Avanzar una √©poca">‚èØ Paso</button>
            <button id="btn-reset" class="btn-secondary">üîÑ Reset</button>
        </div>

        <hr>
        <label class="section-label">Misi√≥n</label>
        
        <div class="control-group" data-desc="Selecciona el desaf√≠o. 'Random' es ruido (imposible de aprender). 'XOR' es un problema de l√≥gica compleja.">
            <label>Problema</label>
            <select id="dataset-select">
                <option value="random">Random</option>
                <option value="AND">Compuerta AND</option>
                <option value="OR">Compuerta OR</option>
                <option value="XOR">Compuerta XOR</option>
                <option value="RGB">Clasificador RGB</option>
            </select>
        </div>

        <hr>
        <label class="section-label">Arquitectura</label>
        
        <div class="control-group" data-desc="N√∫mero de datos que entran a la red (Sensores)."><label>Entradas</label><input type="number" id="input-nodes" value="3" min="1" max="10"></div>
        <div class="control-group" data-desc="Neuronas de procesamiento interno. M√°s neuronas = Pensamiento m√°s complejo."><label>Ocultas</label><input type="number" id="hidden-nodes" value="5" min="0" max="12"></div>
        <div class="control-group" data-desc="N√∫mero de respuestas posibles (Clases)."><label>Salidas</label><input type="number" id="output-nodes" value="2" min="1" max="5"></div>

        <hr>
        <label class="section-label">Configuraci√≥n</label>

        <div class="control-group" data-desc="La 'personalidad' de las neuronas ocultas. ReLU es r√°pida, Tanh es suave."><label>Act. Oculta</label><select id="act-hidden"><option value="ReLU">ReLU</option><option value="Tanh">Tanh</option><option value="Sigmoid">Sigmoid</option><option value="Linear">Linear</option></select></div>
        <div class="control-group" data-desc="C√≥mo decide la respuesta final la red."><label>Act. Salida</label><select id="act-output"><option value="Sigmoid">Sigmoid</option><option value="Linear">Linear</option><option value="Tanh">Tanh</option><option value="ReLU">ReLU</option></select></div>

        <div class="control-group" data-desc="Velocidad a la que la red modifica sus conexiones. Muy alto = inestable. Muy bajo = lento.">
            <label>Learning Rate <span class="help-icon" data-tooltip="Es el tama√±o del 'paso' que da la red para corregir sus errores. Si es muy grande, salta la soluci√≥n. Si es muy chico, tarda una eternidad.">?</span></label>
            <input type="number" id="lr-input" value="0.05" step="0.001">
        </div>
        
        <div class="control-group" data-desc="L√≠mite de intentos de entrenamiento."><label>M√°x. √âpocas</label><input type="number" id="max-epochs" value="5000" step="100"></div>
        
        <div class="control-group" data-desc="Meta de calidad. Si el error baja de este n√∫mero, el entrenamiento se considera exitoso.">
            <label>Stop Loss <span class="help-icon" data-tooltip="Es el nivel de error aceptable. 0.001 significa que queremos una precisi√≥n del 99.9%.">?</span></label>
            <input type="number" id="target-loss" value="0.001" step="0.0001">
        </div>

        <hr>
        <div class="stats-box">
            <div>Estado: <span id="status-val" style="color:#fff">LISTO</span></div>
            <div>√âpoca: <span id="epoch-val" class="val">0</span></div>
            <div>Error: <span id="loss-val" class="val error">1.000</span></div>
        </div>

        <div class="info-box" id="guide-text">Configura la red y presiona Entrenar. Pasa el mouse sobre las opciones para aprender m√°s.</div>

        <div class="footer-links">
            <a href="https://github.com/mnahuelanca/Neural-Network-Simulator" target= "_blank" class="link-btn" title="Ver Repositorio">
                <svg viewBox="0 0 24 24" width="18" height="18">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                <span>Code</span>
            </a>

            <a href="mailto:maxinahuelanca@gmail.com" class="link-btn" title="Reportar Bug / Contacto">
                <svg viewBox="0 0 24 24" width="18" height="18">
                    <path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"/>
                </svg>
                <span>Bug / Contacto</span>
            </a>
        </div>

    </aside>

    <div id="canvas-container"></div>
    
    <div id="monitor-panel">
        <h3>Diagn√≥stico <span class="help-icon" data-tooltip="Es la 'nota' del examen. Mide qu√© porcentaje de pruebas la red resolvi√≥ correctamente. 100% es perfecto.">?</span></h3>
        <div class="monitor-row"><span>Precisi√≥n:</span><span id="acc-val" style="color:#00f3ff; font-weight:bold;">0%</span></div>
        <div class="acc-bar-bg"><div id="acc-bar-fill"></div></div>
        <hr>
        <div class="legend-item"><span class="dot" style="background:#00f3ff"></span> <span class="legend-text">Positivo (+)</span></div>
        <div class="legend-item"><span class="dot" style="background:#ff0055"></span> <span class="legend-text">Negativo (-)</span></div>
    </div>

    <div id="controls-panel">
        <div class="ctrl-row">
            <div class="mouse-icon left-click"></div> <span>Rotar</span>
        </div>
        <div class="ctrl-row">
            <div class="mouse-icon wheel-scroll"></div> <span>Zoom</span>
        </div>
        <div class="ctrl-row">
            <div class="mouse-icon right-click"></div> <span>Mover</span>
        </div>
    </div>


    <div id="dashboard">
        <div class="chart-wrapper">
            <div class="canvas-box"><canvas id="lossChart"></canvas></div>
            <div class="chart-caption">
                <strong>üìâ Curva de Error</strong> 
                <span class="help-icon" data-tooltip="Muestra el 'dolor' de la red. La l√≠nea debe bajar. Si baja, est√° aprendiendo. Si sube o se agita, est√° confundida.">?</span>
            </div>
        </div>
        <div class="chart-wrapper">
            <div class="canvas-box"><canvas id="outputChart"></canvas></div>
            <div class="chart-caption">
                <strong>üìä Comparativa</strong> 
                <span class="help-icon" data-tooltip="Verdad vs Predicci√≥n. La barra CIAN (lo que la red cree) debe intentar igualar la altura de la barra GRIS (la respuesta correcta).">?</span>
            </div>
        </div>
    </div>

    <div id="tooltip"></div>
    <div id="winner-label"></div>

    <script type="module" src="js/main.js"></script>
</body>
</html>